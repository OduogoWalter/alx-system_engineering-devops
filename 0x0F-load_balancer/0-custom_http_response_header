#!/usr/bin/env bash
# This script configures Nginx to include a custom HTTP header on Ubuntu

# Install Nginx if not already installed
sudo apt-get update
sudo apt-get install -y nginx

# Define the custom header value
header_value=$(hostname)

# Add the custom header configuration to Nginx
sudo bash -c "cat <<EOF > /etc/nginx/conf.d/custom_headers.conf
server_tokens off;
add_header X-Served-By $header_value;
EOF"

# Restart Nginx to apply the changes
sudo systemctl restart nginx
